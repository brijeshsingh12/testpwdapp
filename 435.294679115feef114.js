"use strict";(self.webpackChunkInventoryAPPN=self.webpackChunkInventoryAPPN||[]).push([[435],{7435:(ht,x,l)=>{l.r(x),l.d(x,{ItemModule:()=>It});var k=l(177),re=l(1472),m=l(9417),L=l(1626),h=l(5743),e=l(7705),oe=l(5416),n=l(9640),c=function(t){return t.LOAD_Category="[Item] Load Category",t.LOAD_Category_SUCCESS="[Item Api] Load Category Success",t.LOAD_Category_ERROR="[Item Api] Load Category Error",t.LOAD_SubCategory="[Item] Load SubCategory",t.LOAD_SubCategory_SUCCESS="[Item Api] Load SubCategory Success",t.LOAD_SubCategory_ERROR="[Item Api] Load SubCategory Error",t.LOAD_Item="[Item] Load Item",t.LOAD_Item_SUCCESS="[Item Api] Load Item Success",t.LOAD_Item_ERROR="[Item Api] Load Item Error",t.LOAD_ItemByID="[Item by ID] Load Item BY ID",t.LOAD_ItemByID_SUCCESS="[Item By ID Api] Load Item By ID Success",t.LOAD_ItemByID_ERROR="[Item By ID Api] Load Item By ID Error",t.UPDATE_Item="[Item] Update Item",t.UPDATE_Item_SUCCESS="[Item Api] Update Item Success",t.UPDATE_Item_ERROR="[Item Api] Update Item Error",t.CREATE_Item="[Item] Create Item",t.CREATE_Item_SUCCESS="[Item Api] Create Item Success",t.CREATE_Item_ERROR="[Item Api] Create Item Error",t.DELETE_Item="[Item] Delete Item",t.DELETE_Item_SUCCESS="[Item Api] Delete Item Success",t.DELETE_Item_ERROR="[Item Api] Delete Item Error",t.UPLOAD_IMAGES="[Item] Upload Product Images",t.UPLOAD_IMAGES_SUCCESS="[Item Api] Upload Product Images Success",t.UPLOAD_IMAGES_ERROR="[Item Api] Upload Product Images Error",t}(c||{});const S=(0,n.VP)(c.LOAD_Category),U=(0,n.VP)(c.LOAD_Category_SUCCESS,(0,n.xk)()),O=(0,n.VP)(c.LOAD_Category_ERROR,(0,n.xk)()),b=(0,n.VP)(c.LOAD_SubCategory,(0,n.xk)()),T=(0,n.VP)(c.LOAD_SubCategory_SUCCESS,(0,n.xk)()),M=(0,n.VP)(c.LOAD_SubCategory_ERROR,(0,n.xk)()),B=(0,n.VP)(c.LOAD_Item),Y=(0,n.VP)(c.LOAD_Item_SUCCESS,(0,n.xk)()),A=(0,n.VP)(c.LOAD_Item_ERROR,(0,n.xk)()),v=(0,n.VP)(c.LOAD_ItemByID,(0,n.xk)()),V=(0,n.VP)(c.LOAD_ItemByID_SUCCESS,(0,n.xk)()),w=(0,n.VP)(c.LOAD_ItemByID_ERROR,(0,n.xk)()),D=(0,n.VP)(c.CREATE_Item,(0,n.xk)()),X=(0,n.VP)(c.CREATE_Item_SUCCESS,(0,n.xk)()),q=(0,n.VP)(c.CREATE_Item_ERROR,(0,n.xk)()),R=(0,n.VP)(c.UPDATE_Item,(0,n.xk)()),z=(0,n.VP)(c.UPDATE_Item_SUCCESS,(0,n.xk)()),G=(0,n.VP)(c.UPDATE_Item_ERROR,(0,n.xk)()),H=(0,n.VP)(c.DELETE_Item,(0,n.xk)()),W=(0,n.VP)(c.DELETE_Item_SUCCESS,(0,n.xk)()),K=(0,n.VP)(c.DELETE_Item_ERROR,(0,n.xk)()),P=(0,n.VP)(c.UPLOAD_IMAGES,(0,n.xk)()),J=(0,n.VP)(c.UPLOAD_IMAGES_SUCCESS,(0,n.xk)()),ae=(0,n.VP)(c.UPLOAD_IMAGES_ERROR,(0,n.xk)()),Q="ItemKey",f=(0,n.UX)(Q),ne=((0,n.Mz)(f,t=>t._items),(0,n.Mz)(f,t=>t._item)),ie=(0,n.Mz)(f,t=>t.loading),se=(0,n.Mz)(f,t=>t.saveSuccess),le=(0,n.Mz)(f,t=>t._error),me=(0,n.Mz)(f,t=>t._Categories),ce=(0,n.Mz)(f,t=>t._SubCategories),ue=(0,n.Mz)(f,t=>t._UploadStatus);var j=l(2232),F=l(822),pe=l(6600),$=l(8834),Z=l(9631),E=l(6467),de=l(2798),y=l(5911);function fe(t,o){1&t&&(e.j41(0,"span",42),e.EFF(1,"Create Product"),e.k0s())}function ge(t,o){1&t&&(e.j41(0,"span",42),e.EFF(1,"Update Product"),e.k0s())}function Ce(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Item Code"),e.k0s())}function Ie(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Select Item Name"),e.k0s())}function _e(t,o){if(1&t&&(e.j41(0,"mat-option",14),e.EFF(1),e.k0s()),2&t){const a=o.$implicit;e.Y8G("value",a.categoryId),e.R7$(1),e.JRh(a.categoryName)}}function he(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Select Category"),e.k0s())}function Ee(t,o){if(1&t&&(e.j41(0,"mat-option",14),e.EFF(1),e.k0s()),2&t){const a=o.$implicit;e.Y8G("value",a.subCategoryId),e.R7$(1),e.JRh(a.subCategoryName)}}function Fe(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Select Sub-Category"),e.k0s())}function ke(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Serial Number"),e.k0s())}function Se(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter HSN Code"),e.k0s())}function be(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Select SGST"),e.k0s())}function ve(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Select CGST"),e.k0s())}function De(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Select IGST"),e.k0s())}function Re(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Select Color"),e.k0s())}function Ge(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Weight"),e.k0s())}function Pe(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Warranty"),e.k0s())}function je(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Replacement Cost"),e.k0s())}function $e(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Price"),e.k0s())}function ye(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Sale List Price"),e.k0s())}function Ne(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Item Per Pack"),e.k0s())}function xe(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Pack Per Size"),e.k0s())}function Le(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Cases Per Pallet"),e.k0s())}function Ue(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Select Sale Unit"),e.k0s())}function Oe(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Select Purchase Unit"),e.k0s())}function Te(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Opening Stock"),e.k0s())}function Me(t,o){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Min InventoryLevel"),e.k0s())}function Be(t,o){if(1&t){const a=e.RV6();e.j41(0,"div",43)(1,"img",44),e.bIt("click",function(){const s=e.eBV(a).$implicit,u=e.XpG();return e.Njj(u.downloadFile(s.filePath))}),e.k0s(),e.j41(2,"div",45),e.EFF(3),e.k0s()()}if(2&t){const a=o.$implicit;e.R7$(1),e.FS9("alt",a.fileName),e.Y8G("src","https://localhost:7132/"+a.filePath,e.B4B),e.R7$(2),e.JRh(a.fileName)}}let ee=(()=>{class t{constructor(a,i,r,s,u,_t){this.formBuilder=a,this.store$=i,this.snackBarService=r,this.service=s,this.route=u,this.router=_t,this._snackBar=(0,e.WQX)(oe.UG),this.selectedFiles=[],this.updateMode=!1,this.fileList=[],this.uploadedImages=[],this.store$.dispatch(S()),this.loading$=this.store$.pipe((0,n.Lt)(ie)),this.saveStatus$=this.store$.pipe((0,n.Lt)(se)),this.error$=this.store$.pipe((0,n.Lt)(le)),this.selectedItem$=this.store$.pipe((0,n.Lt)(ne)),this.getUploadSatus$=this.store$.pipe((0,n.Lt)(ue))}ngOnInit(){this.createForm(),this.GetCategories(),this.bindItemForID()}getAllImages(a){this.fileList=a,this.uploadedImages=a.map(i=>`https://localhost:7132/uploads/${i}`)}createForm(){this.formGroup=this.formBuilder.group({id:[0],itemCode:[null,m.k0.required],itemName:[null,m.k0.required],hsncode:[null,m.k0.required],sgst:[null,m.k0.required],cgst:[null,m.k0.required],igst:[null],colour:[null],serialNumber:[null,m.k0.required],category:[null,m.k0.required],subCategory:[null,m.k0.required],price:[null,m.k0.required],warrenty:[null,m.k0.required],replacementCost:[null,m.k0.required],weight:[null],purchaseUnit:[null,m.k0.required],minInventoryLevel:[null,m.k0.required],iitemsPerPack:[null],packsPerCase:[null],casesPerPallet:[null],itemSaleUnit:[null,m.k0.required],saleListPrice:[null,m.k0.required],openingStock:[null,m.k0.required]})}bindItemForID(){this.selectedId=this.route.snapshot.paramMap.get("id"),this.selectedId&&(this.store$.dispatch(v({id:this.selectedId})),this.selectedItem$.subscribe(a=>{this.onChangeCategory(a.category),this.formGroup.patchValue(a.item),this.getAllImages(a.itemImagesDetails),this.updateMode=!0}))}GetCategories(){this.store$.pipe((0,n.Lt)(me)).subscribe(a=>{this.Categories=a})}onChangeCategory(a){this.store$.dispatch(b({categoryId:a})),this.store$.pipe((0,n.Lt)(ce)).subscribe(i=>{this.SubCategories=i})}onSubmit(){this.store$.dispatch(this.updateMode?R({item:this.formGroup.value}):D({item:this.formGroup.value})),this.saveStatus$.subscribe(a=>{a?(this.uploadFiles(),this.snackBarService.show("Data saved successfully!","success"),this.formGroup.reset(),this.updateMode=!1,this.selectedFiles=[],this.router.navigate(["/manage-item"])):this.snackBarService.show("Not saved","error")})}onFileSelected(a){const i=a.target;i.files&&(this.selectedFiles=Array.from(i.files))}uploadFiles(){const a=new FormData;this.selectedItem$.subscribe(i=>{a.append("itemId",i.id.toString())}),this.selectedFiles.forEach(i=>{a.append("files",i)}),this.store$.dispatch(P({formData:a})),this.getUploadSatus$.subscribe(i=>{this.uploadStatus="Images successfully uploaded",console.log("Upload success",i)},i=>{console.error("Upload error",i)})}downloadFile(a){let i=a.replace("uploads\\","");this.service.DownloadFile(i).subscribe(r=>{const s=window.URL.createObjectURL(r),u=document.createElement("a");u.href=s,u.download=a,u.click(),URL.revokeObjectURL(s)})}static{this.\u0275fac=function(i){return new(i||t)(e.rXU(m.ok),e.rXU(n.il),e.rXU(j.v),e.rXU(F.b),e.rXU(h.nX),e.rXU(h.Ix))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-create-item"]],decls:184,vars:41,consts:[["novalidate","",1,"container"],["class","fill-remaining-space",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"example-container"],["matInput","","maxlength","10","formControlName","itemCode"],[4,"ngIf"],["matInput","","maxlength","10","formControlName","itemName"],["formControlName","category",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","subCategory"],[2,"padding-top","10px"],["matInput","","maxlength","10","formControlName","serialNumber"],["matInput","","maxlength","10","formControlName","hsncode"],["formControlName","sgst"],[3,"value"],["formControlName","cgst"],["formControlName","igst"],["formControlName","colour"],["value","Red"],["value","Blue"],["value","Black"],["value","Green"],["value","White"],["matInput","","maxlength","10","formControlName","weight"],["matInput","","maxlength","10","formControlName","warrenty"],["matInput","","maxlength","10","formControlName","replacementCost"],["matInput","","maxlength","10","formControlName","price"],["matInput","","maxlength","10","formControlName","saleListPrice"],["matInput","","maxlength","10","formControlName","iitemsPerPack"],["matInput","","maxlength","10","formControlName","packsPerCase"],["matInput","","maxlength","10","formControlName","casesPerPallet"],["formControlName","itemSaleUnit"],["value","Piece"],["value","KG"],["formControlName","purchaseUnit"],["matInput","","maxlength","10","formControlName","openingStock"],["matInput","","maxlength","10","formControlName","minInventoryLevel"],["type","file","multiple","",1,"file-input",3,"change"],[1,"horizontal-scroll-container"],["class","file-card",4,"ngFor","ngForOf"],[1,"example-button-row"],["mat-stroked-button","","type","button",3,"disabled","click"],[1,"fill-remaining-space"],[1,"file-card"],["width","150","height","100",3,"src","alt","click"],[1,"file-name"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"mat-toolbar"),e.DNE(2,fe,2,0,"span",1),e.DNE(3,ge,2,0,"span",1),e.k0s(),e.j41(4,"form",2),e.bIt("ngSubmit",function(){return r.onSubmit()}),e.j41(5,"div",3)(6,"mat-form-field")(7,"mat-label"),e.EFF(8,"Item Code"),e.k0s(),e.nrm(9,"input",4),e.DNE(10,Ce,2,0,"mat-error",5),e.k0s(),e.j41(11,"mat-form-field")(12,"mat-label"),e.EFF(13,"Item Name"),e.k0s(),e.nrm(14,"input",6),e.DNE(15,Ie,2,0,"mat-error",5),e.k0s(),e.j41(16,"mat-form-field")(17,"mat-label"),e.EFF(18,"Select Category"),e.k0s(),e.j41(19,"mat-select",7),e.bIt("selectionChange",function(u){return r.onChangeCategory(u.value)}),e.DNE(20,_e,2,2,"mat-option",8),e.k0s(),e.DNE(21,he,2,0,"mat-error",5),e.k0s(),e.j41(22,"mat-form-field")(23,"mat-label"),e.EFF(24,"Select Sub-Category"),e.k0s(),e.j41(25,"mat-select",9),e.DNE(26,Ee,2,2,"mat-option",8),e.k0s(),e.DNE(27,Fe,2,0,"mat-error",5),e.k0s()(),e.nrm(28,"div",10),e.j41(29,"div",3)(30,"mat-form-field")(31,"mat-label"),e.EFF(32,"Serial Number"),e.k0s(),e.nrm(33,"input",11),e.DNE(34,ke,2,0,"mat-error",5),e.k0s(),e.j41(35,"mat-form-field")(36,"mat-label"),e.EFF(37,"HSN-Code"),e.k0s(),e.nrm(38,"input",12),e.DNE(39,Se,2,0,"mat-error",5),e.k0s(),e.j41(40,"mat-form-field")(41,"mat-label"),e.EFF(42,"SGST"),e.k0s(),e.j41(43,"mat-select",13)(44,"mat-option",14),e.EFF(45,"5%"),e.k0s(),e.j41(46,"mat-option",14),e.EFF(47,"10%"),e.k0s(),e.j41(48,"mat-option",14),e.EFF(49,"12%"),e.k0s(),e.j41(50,"mat-option",14),e.EFF(51,"18%"),e.k0s()(),e.DNE(52,be,2,0,"mat-error",5),e.k0s(),e.j41(53,"mat-form-field")(54,"mat-label"),e.EFF(55,"CGST"),e.k0s(),e.j41(56,"mat-select",15)(57,"mat-option",14),e.EFF(58,"5%"),e.k0s(),e.j41(59,"mat-option",14),e.EFF(60,"10%"),e.k0s(),e.j41(61,"mat-option",14),e.EFF(62,"12%"),e.k0s(),e.j41(63,"mat-option",14),e.EFF(64,"18%"),e.k0s()(),e.DNE(65,ve,2,0,"mat-error",5),e.k0s()(),e.nrm(66,"div",10),e.j41(67,"div",3)(68,"mat-form-field")(69,"mat-label"),e.EFF(70,"IGST"),e.k0s(),e.j41(71,"mat-select",16)(72,"mat-option",14),e.EFF(73,"5%"),e.k0s(),e.j41(74,"mat-option",14),e.EFF(75,"10%"),e.k0s(),e.j41(76,"mat-option",14),e.EFF(77,"12%"),e.k0s(),e.j41(78,"mat-option",14),e.EFF(79,"18%"),e.k0s()(),e.DNE(80,De,2,0,"mat-error",5),e.k0s(),e.j41(81,"mat-form-field")(82,"mat-label"),e.EFF(83,"Colour"),e.k0s(),e.j41(84,"mat-select",17)(85,"mat-option",18),e.EFF(86,"Red"),e.k0s(),e.j41(87,"mat-option",19),e.EFF(88,"Blue"),e.k0s(),e.j41(89,"mat-option",20),e.EFF(90,"Black"),e.k0s(),e.j41(91,"mat-option",21),e.EFF(92,"Green"),e.k0s(),e.j41(93,"mat-option",22),e.EFF(94,"White"),e.k0s()(),e.DNE(95,Re,2,0,"mat-error",5),e.k0s(),e.j41(96,"mat-form-field")(97,"mat-label"),e.EFF(98,"Weight"),e.k0s(),e.nrm(99,"input",23),e.DNE(100,Ge,2,0,"mat-error",5),e.k0s(),e.j41(101,"mat-form-field")(102,"mat-label"),e.EFF(103,"Warrenty"),e.k0s(),e.nrm(104,"input",24),e.DNE(105,Pe,2,0,"mat-error",5),e.k0s()(),e.nrm(106,"div",10),e.j41(107,"div",3)(108,"mat-form-field")(109,"mat-label"),e.EFF(110,"Replacement Cost"),e.k0s(),e.nrm(111,"input",25),e.DNE(112,je,2,0,"mat-error",5),e.k0s(),e.j41(113,"mat-form-field")(114,"mat-label"),e.EFF(115,"Price"),e.k0s(),e.nrm(116,"input",26),e.DNE(117,$e,2,0,"mat-error",5),e.k0s(),e.j41(118,"mat-form-field")(119,"mat-label"),e.EFF(120,"Sale List Price"),e.k0s(),e.nrm(121,"input",27),e.DNE(122,ye,2,0,"mat-error",5),e.k0s(),e.j41(123,"mat-form-field")(124,"mat-label"),e.EFF(125,"Item Per Pack"),e.k0s(),e.nrm(126,"input",28),e.DNE(127,Ne,2,0,"mat-error",5),e.k0s()(),e.nrm(128,"div",10),e.j41(129,"div",3)(130,"mat-form-field")(131,"mat-label"),e.EFF(132,"Packs Per Case"),e.k0s(),e.nrm(133,"input",29),e.DNE(134,xe,2,0,"mat-error",5),e.k0s(),e.j41(135,"mat-form-field")(136,"mat-label"),e.EFF(137,"Cases Per Pallet"),e.k0s(),e.nrm(138,"input",30),e.DNE(139,Le,2,0,"mat-error",5),e.k0s(),e.j41(140,"mat-form-field")(141,"mat-label"),e.EFF(142,"Item Sale Unit"),e.k0s(),e.j41(143,"mat-select",31)(144,"mat-option",32),e.EFF(145,"Piece"),e.k0s(),e.j41(146,"mat-option",33),e.EFF(147,"KG"),e.k0s()(),e.DNE(148,Ue,2,0,"mat-error",5),e.k0s(),e.j41(149,"mat-form-field")(150,"mat-label"),e.EFF(151,"Purchase Unit"),e.k0s(),e.j41(152,"mat-select",34)(153,"mat-option",32),e.EFF(154,"Piece"),e.k0s(),e.j41(155,"mat-option",33),e.EFF(156,"KG"),e.k0s()(),e.DNE(157,Oe,2,0,"mat-error",5),e.k0s()(),e.nrm(158,"div",10),e.j41(159,"div",3)(160,"mat-form-field")(161,"mat-label"),e.EFF(162,"Opening Stock"),e.k0s(),e.nrm(163,"input",35),e.DNE(164,Te,2,0,"mat-error",5),e.k0s(),e.j41(165,"mat-form-field")(166,"mat-label"),e.EFF(167,"Minimum Inventory Level"),e.k0s(),e.nrm(168,"input",36),e.DNE(169,Me,2,0,"mat-error",5),e.k0s()(),e.nrm(170,"div",10),e.j41(171,"div",3)(172,"input",37),e.bIt("change",function(u){return r.onFileSelected(u)}),e.k0s()(),e.nrm(173,"div",10)(174,"div",10),e.j41(175,"div",3)(176,"h3"),e.EFF(177,"Product Images:"),e.k0s(),e.j41(178,"div",38),e.DNE(179,Be,4,3,"div",39),e.k0s()(),e.nrm(180,"br"),e.j41(181,"div",40)(182,"button",41),e.bIt("click",function(){return r.onSubmit()}),e.EFF(183,"Submit"),e.k0s()()()()),2&i&&(e.R7$(2),e.Y8G("ngIf",!r.updateMode),e.R7$(1),e.Y8G("ngIf",r.updateMode),e.R7$(1),e.Y8G("formGroup",r.formGroup),e.R7$(6),e.Y8G("ngIf",null==r.formGroup.controls.itemCode.errors?null:r.formGroup.controls.itemCode.errors.required),e.R7$(5),e.Y8G("ngIf",null==r.formGroup.controls.itemName.errors?null:r.formGroup.controls.itemName.errors.required),e.R7$(5),e.Y8G("ngForOf",r.Categories),e.R7$(1),e.Y8G("ngIf",null==r.formGroup.controls.category.errors?null:r.formGroup.controls.category.errors.required),e.R7$(5),e.Y8G("ngForOf",r.SubCategories),e.R7$(1),e.Y8G("ngIf",null==r.formGroup.controls.subCategory.errors?null:r.formGroup.controls.subCategory.errors.required),e.R7$(7),e.Y8G("ngIf",null==r.formGroup.controls.serialNumber.errors?null:r.formGroup.controls.serialNumber.errors.required),e.R7$(5),e.Y8G("ngIf",null==r.formGroup.controls.hsncode.errors?null:r.formGroup.controls.hsncode.errors.required),e.R7$(5),e.Y8G("value",5),e.R7$(2),e.Y8G("value",10),e.R7$(2),e.Y8G("value",12),e.R7$(2),e.Y8G("value",18),e.R7$(2),e.Y8G("ngIf",null==r.formGroup.controls.sgst.errors?null:r.formGroup.controls.sgst.errors.required),e.R7$(5),e.Y8G("value",5),e.R7$(2),e.Y8G("value",10),e.R7$(2),e.Y8G("value",12),e.R7$(2),e.Y8G("value",18),e.R7$(2),e.Y8G("ngIf",null==r.formGroup.controls.cgst.errors?null:r.formGroup.controls.cgst.errors.required),e.R7$(7),e.Y8G("value",5),e.R7$(2),e.Y8G("value",10),e.R7$(2),e.Y8G("value",12),e.R7$(2),e.Y8G("value",18),e.R7$(2),e.Y8G("ngIf",null==r.formGroup.controls.igst.errors?null:r.formGroup.controls.igst.errors.required),e.R7$(15),e.Y8G("ngIf",null==r.formGroup.controls.colour.errors?null:r.formGroup.controls.colour.errors.required),e.R7$(5),e.Y8G("ngIf",null==r.formGroup.controls.weight.errors?null:r.formGroup.controls.weight.errors.required),e.R7$(5),e.Y8G("ngIf",null==r.formGroup.controls.warrenty.errors?null:r.formGroup.controls.warrenty.errors.required),e.R7$(7),e.Y8G("ngIf",null==r.formGroup.controls.replacementCost.errors?null:r.formGroup.controls.replacementCost.errors.required),e.R7$(5),e.Y8G("ngIf",null==r.formGroup.controls.price.errors?null:r.formGroup.controls.price.errors.required),e.R7$(5),e.Y8G("ngIf",null==r.formGroup.controls.saleListPrice.errors?null:r.formGroup.controls.saleListPrice.errors.required),e.R7$(5),e.Y8G("ngIf",null==r.formGroup.controls.iitemsPerPack.errors?null:r.formGroup.controls.iitemsPerPack.errors.required),e.R7$(7),e.Y8G("ngIf",null==r.formGroup.controls.packsPerCase.errors?null:r.formGroup.controls.packsPerCase.errors.required),e.R7$(5),e.Y8G("ngIf",null==r.formGroup.controls.casesPerPallet.errors?null:r.formGroup.controls.casesPerPallet.errors.required),e.R7$(9),e.Y8G("ngIf",null==r.formGroup.controls.itemSaleUnit.errors?null:r.formGroup.controls.itemSaleUnit.errors.required),e.R7$(9),e.Y8G("ngIf",null==r.formGroup.controls.purchaseUnit.errors?null:r.formGroup.controls.purchaseUnit.errors.required),e.R7$(7),e.Y8G("ngIf",null==r.formGroup.controls.openingStock.errors?null:r.formGroup.controls.openingStock.errors.required),e.R7$(5),e.Y8G("ngIf",null==r.formGroup.controls.minInventoryLevel.errors?null:r.formGroup.controls.minInventoryLevel.errors.required),e.R7$(10),e.Y8G("ngForOf",r.fileList),e.R7$(3),e.Y8G("disabled",!r.formGroup.valid))},dependencies:[k.Sq,k.bT,pe.wT,$.$z,Z.fg,E.rl,E.nJ,E.TL,de.VO,y.KQ,m.qT,m.me,m.BC,m.cb,m.tU,m.j4,m.JD],styles:[".example-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%] + mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.file-input[_ngcontent-%COMP%]{padding:10px;font-size:1rem;border:2px solid #ccc;border-radius:8px;transition:border-color .3s}.file-input[_ngcontent-%COMP%]:hover{border-color:#3f51b5;cursor:pointer}button[mat-stroked-button][_ngcontent-%COMP%]{font-weight:700;padding:8px 16px;border-radius:6px;background-color:#3f51b5;color:#fff;border:none;transition:background-color .3s}button[mat-stroked-button][_ngcontent-%COMP%]:hover{background-color:#303f9f}span[_ngcontent-%COMP%]{margin-top:10px;font-weight:500}.horizontal-scroll-container[_ngcontent-%COMP%]{display:flex;overflow-x:auto;padding:10px;gap:15px;white-space:nowrap}.file-card[_ngcontent-%COMP%]{flex:0 0 auto;text-align:center;border:1px solid #ccc;border-radius:8px;padding:10px;box-shadow:0 2px 4px #0000001a;cursor:pointer;background:#fff}.file-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px;margin-bottom:8px}.file-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]})}}return t})();var te=l(6695),N=l(2042),d=l(9159),Ye=l(1802),Ae=l(5351),Ve=l(4823);function we(t,o){1&t&&(e.j41(0,"mat-header-cell",23),e.EFF(1,"Item Code"),e.k0s())}function Xe(t,o){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=o.$implicit;e.R7$(1),e.SpI(" ",a.itemCode," ")}}function qe(t,o){1&t&&(e.j41(0,"mat-header-cell",23),e.EFF(1,"Item Name"),e.k0s())}function ze(t,o){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=o.$implicit;e.R7$(1),e.SpI(" ",a.itemName," ")}}function He(t,o){1&t&&(e.j41(0,"mat-header-cell",23),e.EFF(1,"HSN-Code"),e.k0s())}function We(t,o){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=o.$implicit;e.R7$(1),e.SpI(" ",a.hsncode," ")}}function Ke(t,o){1&t&&(e.j41(0,"mat-header-cell",23),e.EFF(1,"Serial Number"),e.k0s())}function Je(t,o){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=o.$implicit;e.R7$(1),e.SpI(" ",a.serialNumber," ")}}function Qe(t,o){1&t&&(e.j41(0,"mat-header-cell",23),e.EFF(1,"Category"),e.k0s())}function Ze(t,o){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=o.$implicit;e.R7$(1),e.SpI(" ",a.category," ")}}function et(t,o){1&t&&(e.j41(0,"mat-header-cell",23),e.EFF(1,"Sub-Category"),e.k0s())}function tt(t,o){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=o.$implicit;e.R7$(1),e.SpI(" ",a.subCategory," ")}}function rt(t,o){1&t&&(e.j41(0,"mat-header-cell",23),e.EFF(1,"Opening Stock"),e.k0s())}function ot(t,o){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=o.$implicit;e.R7$(1),e.SpI(" ",a.openingStock," ")}}function at(t,o){1&t&&(e.j41(0,"th",24),e.EFF(1,"Edit"),e.k0s())}function nt(t,o){if(1&t){const a=e.RV6();e.j41(0,"td",25)(1,"button",26),e.bIt("click",function(){const s=e.eBV(a).$implicit,u=e.XpG();return e.Njj(u.Edit(s.id))}),e.EFF(2,"Edit"),e.k0s()()}}function it(t,o){1&t&&(e.j41(0,"th",24),e.EFF(1,"Delete"),e.k0s())}function st(t,o){if(1&t){const a=e.RV6();e.j41(0,"td",25)(1,"button",27),e.bIt("click",function(){const s=e.eBV(a).$implicit,u=e.XpG();return e.Njj(u.Remove(s.id))}),e.EFF(2,"Remove"),e.k0s()()}}function lt(t,o){1&t&&e.nrm(0,"mat-header-row")}function mt(t,o){1&t&&e.nrm(0,"mat-row")}const ct=function(){return[5,10,25,100]},ut=[{path:"create-item",component:ee},{path:"manage-item",component:(()=>{class t{constructor(a,i,r,s,u){this._itemService=a,this.excelService=i,this.snackBarService=r,this.dialog=s,this.router=u,this.ItemList=[],this.displayedColumns=["itemCode","itemName","hsncode","serialNumber","category","subCategory","openingStock","Edit","Delete"]}ngOnInit(){this.bindItems()}bindItems(){this._itemService.GetItemList().subscribe(a=>{null!=a&&(this.ItemList=a,this.dataSource=new d.I6(a),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}applyFilter(a){this.dataSource.filter=a.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}Edit(a){this.router.navigate(["/create-item",a])}exportAsXLSX(){this.excelService.exportAsExcelFile(this.ItemList,"Product List")}Remove(a){this._itemService.DeleteItemByID(a).subscribe(i=>{this.bindItems(),this.snackBarService.show("Item Delete successfully!","success")})}static{this.\u0275fac=function(i){return new(i||t)(e.rXU(F.b),e.rXU(Ye.J),e.rXU(j.v),e.rXU(Ae.bZ),e.rXU(h.Ix))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-manage-item"]],viewQuery:function(i,r){if(1&i&&(e.GBs(te.iy,5),e.GBs(N.B4,5)),2&i){let s;e.mGM(s=e.lsd())&&(r.paginator=s.first),e.mGM(s=e.lsd())&&(r.sort=s.first)}},decls:43,vars:5,consts:[[1,"fill-remaining-space"],[2,"padding-top","10px"],[2,"float","left"],["type","text","matInput","",3,"keyup"],[1,"example-container","mat-elevation-z8"],["mat-stroked-button","","color","primary",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","itemCode"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","itemName"],["matColumnDef","hsncode"],["matColumnDef","serialNumber"],["matColumnDef","category"],["matColumnDef","subCategory"],["matColumnDef","openingStock"],["matColumnDef","Edit"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Delete"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-sort-header",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-raised-button","","color","warn","matTooltip","Edit",3,"click"],["mat-raised-button","","color","warn","matTooltip","Delete",3,"click"]],template:function(i,r){1&i&&(e.j41(0,"mat-toolbar")(1,"span",0),e.EFF(2,"View Product List"),e.k0s()(),e.nrm(3,"div",1),e.j41(4,"mat-form-field",2)(5,"mat-label"),e.EFF(6,"Search Item"),e.k0s(),e.j41(7,"input",3),e.bIt("keyup",function(u){return r.applyFilter(u.target.value)}),e.k0s()(),e.j41(8,"div",4)(9,"button",5),e.bIt("click",function(){return r.exportAsXLSX()}),e.EFF(10,"Download Excel"),e.k0s(),e.nrm(11,"div",1),e.j41(12,"table",6),e.qex(13,7),e.DNE(14,we,2,0,"mat-header-cell",8),e.DNE(15,Xe,2,1,"mat-cell",9),e.bVm(),e.qex(16,10),e.DNE(17,qe,2,0,"mat-header-cell",8),e.DNE(18,ze,2,1,"mat-cell",9),e.bVm(),e.qex(19,11),e.DNE(20,He,2,0,"mat-header-cell",8),e.DNE(21,We,2,1,"mat-cell",9),e.bVm(),e.qex(22,12),e.DNE(23,Ke,2,0,"mat-header-cell",8),e.DNE(24,Je,2,1,"mat-cell",9),e.bVm(),e.qex(25,13),e.DNE(26,Qe,2,0,"mat-header-cell",8),e.DNE(27,Ze,2,1,"mat-cell",9),e.bVm(),e.qex(28,14),e.DNE(29,et,2,0,"mat-header-cell",8),e.DNE(30,tt,2,1,"mat-cell",9),e.bVm(),e.qex(31,15),e.DNE(32,rt,2,0,"mat-header-cell",8),e.DNE(33,ot,2,1,"mat-cell",9),e.bVm(),e.qex(34,16),e.DNE(35,at,2,0,"th",17),e.DNE(36,nt,3,0,"td",18),e.bVm(),e.qex(37,19),e.DNE(38,it,2,0,"th",17),e.DNE(39,st,3,0,"td",18),e.bVm(),e.DNE(40,lt,1,0,"mat-header-row",20),e.DNE(41,mt,1,0,"mat-row",21),e.k0s(),e.nrm(42,"mat-paginator",22),e.k0s()),2&i&&(e.R7$(12),e.Y8G("dataSource",r.dataSource),e.R7$(28),e.Y8G("matHeaderRowDef",r.displayedColumns),e.R7$(1),e.Y8G("matRowDefColumns",r.displayedColumns),e.R7$(1),e.Y8G("pageSizeOptions",e.lJ4(4,ct)))},dependencies:[$.$z,Z.fg,E.rl,E.nJ,te.iy,N.B4,N.aE,d.Zl,d.tL,d.ji,d.cC,d.YV,d.iL,d.KS,d.$R,d.YZ,d.NB,y.KQ,Ve.oV]})}}return t})()},{path:"create-item/:id",component:ee},{path:"import-bulk-Product",component:(()=>{class t{constructor(a,i,r){this.http=a,this.snackBarService=i,this._service=r,this.selectedFile=null}onFileChange(a){this.selectedFile=a.target.files[0]}downloadFile(){this._service.DownloadTemplate().subscribe(a=>{const i=window.URL.createObjectURL(a),r=document.createElement("a");r.href=i,r.download="ExcelFormat.xlsx",r.click(),URL.revokeObjectURL(i)})}upload(){if(!this.selectedFile)return;const a=new FormData;a.append("file",this.selectedFile),this._service.ImportProduct(a).subscribe({next:i=>this.snackBarService.show("Data Upload successfully!","success"),error:i=>this.snackBarService.show("file upload error!","error")})}static{this.\u0275fac=function(i){return new(i||t)(e.rXU(L.Qq),e.rXU(j.v),e.rXU(F.b))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-import-bulk-product"]],decls:12,vars:1,consts:[["color","primary"],[2,"padding-top","10px"],[1,"example-container"],["type","file",1,"file-input",3,"change"],["mat-stroked-button","","type","button",1,"upload-btn",3,"click"],["mat-stroked-button","","type","button",1,"upload-btn",3,"disabled","click"]],template:function(i,r){1&i&&(e.j41(0,"mat-toolbar",0)(1,"span"),e.EFF(2,"Import Bulk Product"),e.k0s()(),e.nrm(3,"div",1),e.j41(4,"div",2)(5,"h3"),e.EFF(6,"Select File:"),e.k0s(),e.j41(7,"input",3),e.bIt("change",function(u){return r.onFileChange(u)}),e.k0s(),e.j41(8,"button",4),e.bIt("click",function(){return r.downloadFile()}),e.EFF(9," Download Template "),e.k0s(),e.j41(10,"button",5),e.bIt("click",function(){return r.upload()}),e.EFF(11," Upload "),e.k0s()()),2&i&&(e.R7$(10),e.Y8G("disabled",!r.selectedFile))},dependencies:[$.$z,y.KQ],styles:[".example-container[_ngcontent-%COMP%]{max-width:400px;margin:60px auto;padding:30px;border:1px solid #ccc;border-radius:12px;background-color:#f9f9f9;text-align:left;box-shadow:0 4px 8px #0000001a}.example-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;font-weight:700;color:#333}.file-input[_ngcontent-%COMP%]{display:block;padding:8px}.upload-btn[_ngcontent-%COMP%]{margin-top:10px;padding:8px 20px;font-size:16px;border-radius:6px;cursor:pointer}"]})}}return t})()}];let pt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[h.iI.forChild(ut),h.iI]})}}return t})();const ft=(0,n.vy)({_items:[],_item:void 0,_Categories:[],_Category:void 0,_SubCategories:[],_SubCategory:void 0,_UploadStatus:void 0,loading:!1,saveSuccess:!1,_error:""},(0,n.on)(S,t=>({...t})),(0,n.on)(U,(t,{category:o})=>({...t,_Categories:o,_error:""})),(0,n.on)(O,(t,{error:o})=>({...t,_error:o})),(0,n.on)(b,t=>({...t})),(0,n.on)(T,(t,{subCategories:o})=>({...t,_SubCategories:o,_error:""})),(0,n.on)(M,(t,{error:o})=>({...t,_error:o})),(0,n.on)(B,t=>({...t})),(0,n.on)(Y,(t,{items:o})=>({...t,_items:o})),(0,n.on)(A,(t,{error:o})=>({...t,_error:o})),(0,n.on)(v,t=>({...t})),(0,n.on)(V,(t,{item:o})=>({...t,_item:o,_error:""})),(0,n.on)(w,(t,{error:o})=>({...t,_error:o})),(0,n.on)(D,t=>({...t,loading:!0,saveSuccess:!1,_error:""})),(0,n.on)(X,(t,{item:o})=>({...t,_items:[...t._items,o],_item:o,loading:!1,saveSuccess:!0,_error:""})),(0,n.on)(q,(t,{error:o})=>({...t,loading:!1,saveSuccess:!1,_error:o})),(0,n.on)(R,t=>({...t,loading:!0,saveSuccess:!1,_error:""})),(0,n.on)(z,(t,{item:o})=>{const a=t._items.filter(i=>i.id!==o.id);return a.push(o),{...t,_items:a,loading:!1,saveSuccess:!0,_error:""}}),(0,n.on)(G,(t,{error:o})=>({...t,loading:!1,saveSuccess:!1,_error:o})),(0,n.on)(H,t=>({...t})),(0,n.on)(W,(t,{id:o})=>({...t,_items:t._items.filter(a=>a.id!=o)})),(0,n.on)(K,(t,{error:o})=>({...t,_error:o})),(0,n.on)(P,t=>({...t})),(0,n.on)(J,(t,{response:o})=>({...t,_UploadStatus:o})),(0,n.on)(G,(t,{error:o})=>({...t,_error:o})));function gt(t,o){return ft(t,o)}var p=l(1747),g=l(7673),C=l(5558),I=l(6354),_=l(9437);let Ct=(()=>{class t{constructor(a,i){this.itemService=a,this.actions$=i,this.loadCategoryEffect$=(0,p.EH)(()=>this.actions$.pipe((0,p.gp)(S),(0,C.n)(r=>this.itemService.GetCategoryList().pipe((0,I.T)(s=>U({category:s})),(0,_.W)(s=>(0,g.of)(O({error:s}))))))),this.loadSubCategoryByIDEffect$=(0,p.EH)(()=>this.actions$.pipe((0,p.gp)(b),(0,C.n)(r=>this.itemService.GetSubCategory(r.categoryId).pipe((0,I.T)(s=>T({subCategories:s})),(0,_.W)(s=>(0,g.of)(M({error:s}))))))),this.loadRequestEffect$=(0,p.EH)(()=>this.actions$.pipe((0,p.gp)(B),(0,C.n)(r=>this.itemService.GetItemList().pipe((0,I.T)(s=>Y({items:s})),(0,_.W)(s=>(0,g.of)(A({error:s}))))))),this.loadItemtByIDEffect$=(0,p.EH)(()=>this.actions$.pipe((0,p.gp)(v),(0,C.n)(r=>this.itemService.GetItemByID(r.id).pipe((0,I.T)(s=>V({item:s})),(0,_.W)(s=>(0,g.of)(w({error:s}))))))),this.saveItemEffect$=(0,p.EH)(()=>this.actions$.pipe((0,p.gp)(D),(0,C.n)(r=>this.itemService.saveItem(r.item).pipe((0,I.T)(s=>X({item:s})),(0,_.W)(s=>(0,g.of)(q({error:s}))))))),this.updateItemEffect$=(0,p.EH)(()=>this.actions$.pipe((0,p.gp)(R),(0,C.n)(r=>this.itemService.UpdateItem(r.item).pipe((0,I.T)(s=>z({item:s})),(0,_.W)(s=>(0,g.of)(G({error:s}))))))),this.deleteItemEffect$=(0,p.EH)(()=>this.actions$.pipe((0,p.gp)(H),(0,C.n)(r=>this.itemService.DeleteItemByID(r.id).pipe((0,I.T)(s=>W({id:r.id})),(0,_.W)(s=>(0,g.of)(K({error:s}))))))),this.uploadImagesEffect$=(0,p.EH)(()=>this.actions$.pipe((0,p.gp)(P),(0,C.n)(r=>this.itemService.UploadItem(r.formData).pipe((0,I.T)(s=>J({response:s})),(0,_.W)(s=>(0,g.of)(ae({error:s})))))))}static{this.\u0275fac=function(i){return new(i||t)(e.KVO(F.b),e.KVO(p.En))}}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac})}}return t})(),It=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[k.MD,pt,re.G,m.X1,m.YN,L.q1,n.md.forFeature(Q,gt),p.Vm.forFeature([Ct])]})}}return t})()}}]);