"use strict";(self.webpackChunkInventoryAPPN=self.webpackChunkInventoryAPPN||[]).push([[435],{7435:(ot,$,l)=>{l.r($),l.d($,{ItemModule:()=>tt});var P=l(177),re=l(1472),m=l(9417),O=l(1626),E=l(5743),e=l(7705),oe=l(5416),r=l(9640),c=function(t){return t.LOAD_Category="[Item] Load Category",t.LOAD_Category_SUCCESS="[Item Api] Load Category Success",t.LOAD_Category_ERROR="[Item Api] Load Category Error",t.LOAD_SubCategory="[Item] Load SubCategory",t.LOAD_SubCategory_SUCCESS="[Item Api] Load SubCategory Success",t.LOAD_SubCategory_ERROR="[Item Api] Load SubCategory Error",t.LOAD_Item="[Item] Load Item",t.LOAD_Item_SUCCESS="[Item Api] Load Item Success",t.LOAD_Item_ERROR="[Item Api] Load Item Error",t.LOAD_ItemByID="[Item by ID] Load Item BY ID",t.LOAD_ItemByID_SUCCESS="[Item By ID Api] Load Item By ID Success",t.LOAD_ItemByID_ERROR="[Item By ID Api] Load Item By ID Error",t.UPDATE_Item="[Item] Update Item",t.UPDATE_Item_SUCCESS="[Item Api] Update Item Success",t.UPDATE_Item_ERROR="[Item Api] Update Item Error",t.CREATE_Item="[Item] Create Item",t.CREATE_Item_SUCCESS="[Item Api] Create Item Success",t.CREATE_Item_ERROR="[Item Api] Create Item Error",t.DELETE_Item="[Item] Delete Item",t.DELETE_Item_SUCCESS="[Item Api] Delete Item Success",t.DELETE_Item_ERROR="[Item Api] Delete Item Error",t.UPLOAD_IMAGES="[Item] Upload Product Images",t.UPLOAD_IMAGES_SUCCESS="[Item Api] Upload Product Images Success",t.UPLOAD_IMAGES_ERROR="[Item Api] Upload Product Images Error",t}(c||{});const b=(0,r.VP)(c.LOAD_Category),j=(0,r.VP)(c.LOAD_Category_SUCCESS,(0,r.xk)()),G=(0,r.VP)(c.LOAD_Category_ERROR,(0,r.xk)()),k=(0,r.VP)(c.LOAD_SubCategory,(0,r.xk)()),N=(0,r.VP)(c.LOAD_SubCategory_SUCCESS,(0,r.xk)()),B=(0,r.VP)(c.LOAD_SubCategory_ERROR,(0,r.xk)()),T=(0,r.VP)(c.LOAD_Item),A=(0,r.VP)(c.LOAD_Item_SUCCESS,(0,r.xk)()),V=(0,r.VP)(c.LOAD_Item_ERROR,(0,r.xk)()),F=(0,r.VP)(c.LOAD_ItemByID,(0,r.xk)()),w=(0,r.VP)(c.LOAD_ItemByID_SUCCESS,(0,r.xk)()),X=(0,r.VP)(c.LOAD_ItemByID_ERROR,(0,r.xk)()),D=(0,r.VP)(c.CREATE_Item,(0,r.xk)()),Y=(0,r.VP)(c.CREATE_Item_SUCCESS,(0,r.xk)()),z=(0,r.VP)(c.CREATE_Item_ERROR,(0,r.xk)()),v=(0,r.VP)(c.UPDATE_Item,(0,r.xk)()),W=(0,r.VP)(c.UPDATE_Item_SUCCESS,(0,r.xk)()),x=(0,r.VP)(c.UPDATE_Item_ERROR,(0,r.xk)()),H=(0,r.VP)(c.DELETE_Item,(0,r.xk)()),q=(0,r.VP)(c.DELETE_Item_SUCCESS,(0,r.xk)()),K=(0,r.VP)(c.DELETE_Item_ERROR,(0,r.xk)()),R=(0,r.VP)(c.UPLOAD_IMAGES,(0,r.xk)()),Q=(0,r.VP)(c.UPLOAD_IMAGES_SUCCESS,(0,r.xk)()),ae=(0,r.VP)(c.UPLOAD_IMAGES_ERROR,(0,r.xk)()),J="ItemKey",f=(0,r.UX)(J),ne=((0,r.Mz)(f,t=>t._items),(0,r.Mz)(f,t=>t._item)),ie=(0,r.Mz)(f,t=>t.loading),se=(0,r.Mz)(f,t=>t.saveSuccess),le=(0,r.Mz)(f,t=>t._error),me=(0,r.Mz)(f,t=>t._Categories),ce=(0,r.Mz)(f,t=>t._SubCategories),ue=(0,r.Mz)(f,t=>t._UploadStatus);var y=l(2232),S=l(822),pe=l(6600),L=l(8834),Z=l(9631),_=l(6467),de=l(2798),M=l(5911);function fe(t,a){1&t&&(e.j41(0,"span",24),e.EFF(1,"Create Material"),e.k0s())}function ge(t,a){1&t&&(e.j41(0,"span",24),e.EFF(1,"Update Material"),e.k0s())}function he(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Material Code"),e.k0s())}function Ie(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Select Material Name"),e.k0s())}function Ce(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Select Unit"),e.k0s())}function Ee(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Serial Number"),e.k0s())}function _e(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Select Color"),e.k0s())}function Se(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Weight"),e.k0s())}function be(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Warranty"),e.k0s())}function ke(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Opening Stock"),e.k0s())}function Fe(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Min InventoryLevel"),e.k0s())}let ee=(()=>{class t{constructor(o,i,n,s,p,rt){this.formBuilder=o,this.store$=i,this.snackBarService=n,this.service=s,this.route=p,this.router=rt,this._snackBar=(0,e.WQX)(oe.UG),this.selectedFiles=[],this.updateMode=!1,this.fileList=[],this.uploadedImages=[],this.store$.dispatch(b()),this.loading$=this.store$.pipe((0,r.Lt)(ie)),this.saveStatus$=this.store$.pipe((0,r.Lt)(se)),this.error$=this.store$.pipe((0,r.Lt)(le)),this.selectedItem$=this.store$.pipe((0,r.Lt)(ne)),this.getUploadSatus$=this.store$.pipe((0,r.Lt)(ue))}ngOnInit(){this.createForm(),this.GetCategories(),this.bindItemForID()}getAllImages(o){this.fileList=o,this.uploadedImages=o.map(i=>`https://localhost:7132/uploads/${i}`)}createForm(){this.formGroup=this.formBuilder.group({id:[0],itemCode:[null,m.k0.required],itemName:[null,m.k0.required],hsncode:[null,m.k0.required],sgst:[null,m.k0.required],cgst:[null,m.k0.required],igst:[null],colour:[null],serialNumber:[null,m.k0.required],category:[null,m.k0.required],subCategory:[null,m.k0.required],price:[null,m.k0.required],warrenty:[null,m.k0.required],replacementCost:[null,m.k0.required],weight:[null],purchaseUnit:[null,m.k0.required],minInventoryLevel:[null,m.k0.required],iitemsPerPack:[null],packsPerCase:[null],casesPerPallet:[null],itemSaleUnit:[null,m.k0.required],saleListPrice:[null,m.k0.required],openingStock:[null,m.k0.required]})}bindItemForID(){this.selectedId=this.route.snapshot.paramMap.get("id"),this.selectedId&&(this.store$.dispatch(F({id:this.selectedId})),this.selectedItem$.subscribe(o=>{this.onChangeCategory(o.category),this.formGroup.patchValue(o.item),this.getAllImages(o.itemImagesDetails),this.updateMode=!0}))}GetCategories(){this.store$.pipe((0,r.Lt)(me)).subscribe(o=>{this.Categories=o})}onChangeCategory(o){this.store$.dispatch(k({categoryId:o})),this.store$.pipe((0,r.Lt)(ce)).subscribe(i=>{this.SubCategories=i})}onSubmit(){this.store$.dispatch(this.updateMode?v({item:this.formGroup.value}):D({item:this.formGroup.value})),this.saveStatus$.subscribe(o=>{o?(this.uploadFiles(),this.snackBarService.show("Data saved successfully!","success"),this.formGroup.reset(),this.updateMode=!1,this.selectedFiles=[],this.router.navigate(["/manage-item"])):this.snackBarService.show("Not saved","error")})}onFileSelected(o){const i=o.target;i.files&&(this.selectedFiles=Array.from(i.files))}uploadFiles(){const o=new FormData;this.selectedItem$.subscribe(i=>{o.append("itemId",i.id.toString())}),this.selectedFiles.forEach(i=>{o.append("files",i)}),this.store$.dispatch(R({formData:o})),this.getUploadSatus$.subscribe(i=>{this.uploadStatus="Images successfully uploaded",console.log("Upload success",i)},i=>{console.error("Upload error",i)})}downloadFile(o){let i=o.replace("uploads\\","");this.service.DownloadFile(i).subscribe(n=>{const s=window.URL.createObjectURL(n),p=document.createElement("a");p.href=s,p.download=o,p.click(),URL.revokeObjectURL(s)})}static{this.\u0275fac=function(i){return new(i||t)(e.rXU(m.ok),e.rXU(r.il),e.rXU(y.v),e.rXU(S.b),e.rXU(E.nX),e.rXU(E.Ix))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-create-item"]],decls:78,vars:13,consts:[["novalidate","",1,"container"],["class","fill-remaining-space",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"example-container"],["matInput","","maxlength","10","formControlName","itemCode"],[4,"ngIf"],[2,"padding-top","10px"],["matInput","","maxlength","10","formControlName","itemName"],["formControlName","category",3,"selectionChange"],["value","1"],["value","2"],["matInput","","maxlength","10","formControlName","serialNumber"],["formControlName","colour"],["value","Red"],["value","Blue"],["value","Black"],["value","Green"],["value","White"],["matInput","","maxlength","10","formControlName","weight"],["matInput","","maxlength","10","formControlName","warrenty"],["matInput","","maxlength","10","formControlName","openingStock"],["matInput","","maxlength","10","formControlName","minInventoryLevel"],[1,"example-button-row"],["mat-stroked-button","","type","button",3,"disabled","click"],[1,"fill-remaining-space"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"mat-toolbar"),e.DNE(2,fe,2,0,"span",1),e.DNE(3,ge,2,0,"span",1),e.k0s(),e.j41(4,"form",2),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(5,"div",3)(6,"mat-form-field")(7,"mat-label"),e.EFF(8,"Material Code"),e.k0s(),e.nrm(9,"input",4),e.DNE(10,he,2,0,"mat-error",5),e.k0s(),e.nrm(11,"div",6),e.j41(12,"mat-form-field")(13,"mat-label"),e.EFF(14,"Material Name"),e.k0s(),e.nrm(15,"input",7),e.DNE(16,Ie,2,0,"mat-error",5),e.k0s(),e.nrm(17,"div",6),e.j41(18,"mat-form-field")(19,"mat-label"),e.EFF(20,"Select Unit"),e.k0s(),e.j41(21,"mat-select",8),e.bIt("selectionChange",function(p){return n.onChangeCategory(p.value)}),e.j41(22,"mat-option",9),e.EFF(23,"Unit 1"),e.k0s(),e.j41(24,"mat-option",10),e.EFF(25,"Unit 2"),e.k0s()(),e.DNE(26,Ce,2,0,"mat-error",5),e.k0s(),e.nrm(27,"div",6),e.j41(28,"mat-form-field")(29,"mat-label"),e.EFF(30,"Serial Number"),e.k0s(),e.nrm(31,"input",11),e.DNE(32,Ee,2,0,"mat-error",5),e.k0s(),e.nrm(33,"div",6),e.j41(34,"mat-form-field")(35,"mat-label"),e.EFF(36,"Colour"),e.k0s(),e.j41(37,"mat-select",12)(38,"mat-option",13),e.EFF(39,"Red"),e.k0s(),e.j41(40,"mat-option",14),e.EFF(41,"Blue"),e.k0s(),e.j41(42,"mat-option",15),e.EFF(43,"Black"),e.k0s(),e.j41(44,"mat-option",16),e.EFF(45,"Green"),e.k0s(),e.j41(46,"mat-option",17),e.EFF(47,"White"),e.k0s()(),e.DNE(48,_e,2,0,"mat-error",5),e.k0s(),e.nrm(49,"div",6),e.j41(50,"mat-form-field")(51,"mat-label"),e.EFF(52,"Weight"),e.k0s(),e.nrm(53,"input",18),e.DNE(54,Se,2,0,"mat-error",5),e.k0s(),e.nrm(55,"div",6),e.j41(56,"mat-form-field")(57,"mat-label"),e.EFF(58,"Warrenty"),e.k0s(),e.nrm(59,"input",19),e.DNE(60,be,2,0,"mat-error",5),e.k0s(),e.nrm(61,"div",6),e.j41(62,"mat-form-field")(63,"mat-label"),e.EFF(64,"Opening Stock"),e.k0s(),e.nrm(65,"input",20),e.DNE(66,ke,2,0,"mat-error",5),e.k0s(),e.nrm(67,"div",6),e.j41(68,"mat-form-field")(69,"mat-label"),e.EFF(70,"Minimum Inventory Level"),e.k0s(),e.nrm(71,"input",21),e.DNE(72,Fe,2,0,"mat-error",5),e.k0s()(),e.nrm(73,"div",6)(74,"br"),e.j41(75,"div",22)(76,"button",23),e.bIt("click",function(){return n.onSubmit()}),e.EFF(77,"Submit"),e.k0s()()()()),2&i&&(e.R7$(2),e.Y8G("ngIf",!n.updateMode),e.R7$(1),e.Y8G("ngIf",n.updateMode),e.R7$(1),e.Y8G("formGroup",n.formGroup),e.R7$(6),e.Y8G("ngIf",null==n.formGroup.controls.itemCode.errors?null:n.formGroup.controls.itemCode.errors.required),e.R7$(6),e.Y8G("ngIf",null==n.formGroup.controls.itemName.errors?null:n.formGroup.controls.itemName.errors.required),e.R7$(10),e.Y8G("ngIf",null==n.formGroup.controls.category.errors?null:n.formGroup.controls.category.errors.required),e.R7$(6),e.Y8G("ngIf",null==n.formGroup.controls.serialNumber.errors?null:n.formGroup.controls.serialNumber.errors.required),e.R7$(16),e.Y8G("ngIf",null==n.formGroup.controls.colour.errors?null:n.formGroup.controls.colour.errors.required),e.R7$(6),e.Y8G("ngIf",null==n.formGroup.controls.weight.errors?null:n.formGroup.controls.weight.errors.required),e.R7$(6),e.Y8G("ngIf",null==n.formGroup.controls.warrenty.errors?null:n.formGroup.controls.warrenty.errors.required),e.R7$(6),e.Y8G("ngIf",null==n.formGroup.controls.openingStock.errors?null:n.formGroup.controls.openingStock.errors.required),e.R7$(6),e.Y8G("ngIf",null==n.formGroup.controls.minInventoryLevel.errors?null:n.formGroup.controls.minInventoryLevel.errors.required),e.R7$(4),e.Y8G("disabled",!n.formGroup.valid))},dependencies:[P.bT,pe.wT,L.$z,Z.fg,_.rl,_.nJ,_.TL,de.VO,M.KQ,m.qT,m.me,m.BC,m.cb,m.tU,m.j4,m.JD],styles:[".example-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%] + mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.file-input[_ngcontent-%COMP%]{padding:10px;font-size:1rem;border:2px solid #ccc;border-radius:8px;transition:border-color .3s}.file-input[_ngcontent-%COMP%]:hover{border-color:#3f51b5;cursor:pointer}button[mat-stroked-button][_ngcontent-%COMP%]{font-weight:700;padding:8px 16px;border-radius:6px;background-color:#3f51b5;color:#fff;border:none;transition:background-color .3s}button[mat-stroked-button][_ngcontent-%COMP%]:hover{background-color:#303f9f}span[_ngcontent-%COMP%]{margin-top:10px;font-weight:500}.horizontal-scroll-container[_ngcontent-%COMP%]{display:flex;overflow-x:auto;padding:10px;gap:15px;white-space:nowrap}.file-card[_ngcontent-%COMP%]{flex:0 0 auto;text-align:center;border:1px solid #ccc;border-radius:8px;padding:10px;box-shadow:0 2px 4px #0000001a;cursor:pointer;background:#fff}.file-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px;margin-bottom:8px}.file-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]})}}return t})();var te=l(6695),U=l(2042),d=l(9159),De=l(1802),ve=l(5351),xe=l(4823);function Re(t,a){1&t&&(e.j41(0,"mat-header-cell",23),e.EFF(1,"Item Code"),e.k0s())}function ye(t,a){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const o=a.$implicit;e.R7$(1),e.SpI(" ",o.itemCode," ")}}function Le(t,a){1&t&&(e.j41(0,"mat-header-cell",23),e.EFF(1,"Item Name"),e.k0s())}function Me(t,a){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const o=a.$implicit;e.R7$(1),e.SpI(" ",o.itemName," ")}}function Ue(t,a){1&t&&(e.j41(0,"mat-header-cell",23),e.EFF(1,"HSN-Code"),e.k0s())}function $e(t,a){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const o=a.$implicit;e.R7$(1),e.SpI(" ",o.hsncode," ")}}function Pe(t,a){1&t&&(e.j41(0,"mat-header-cell",23),e.EFF(1,"Serial Number"),e.k0s())}function Oe(t,a){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const o=a.$implicit;e.R7$(1),e.SpI(" ",o.serialNumber," ")}}function je(t,a){1&t&&(e.j41(0,"mat-header-cell",23),e.EFF(1,"Category"),e.k0s())}function Ge(t,a){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const o=a.$implicit;e.R7$(1),e.SpI(" ",o.category," ")}}function Ne(t,a){1&t&&(e.j41(0,"mat-header-cell",23),e.EFF(1,"Sub-Category"),e.k0s())}function Be(t,a){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const o=a.$implicit;e.R7$(1),e.SpI(" ",o.subCategory," ")}}function Te(t,a){1&t&&(e.j41(0,"mat-header-cell",23),e.EFF(1,"Opening Stock"),e.k0s())}function Ae(t,a){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const o=a.$implicit;e.R7$(1),e.SpI(" ",o.openingStock," ")}}function Ve(t,a){1&t&&(e.j41(0,"th",24),e.EFF(1,"Edit"),e.k0s())}function we(t,a){if(1&t){const o=e.RV6();e.j41(0,"td",25)(1,"button",26),e.bIt("click",function(){const s=e.eBV(o).$implicit,p=e.XpG();return e.Njj(p.Edit(s.id))}),e.EFF(2,"Edit"),e.k0s()()}}function Xe(t,a){1&t&&(e.j41(0,"th",24),e.EFF(1,"Delete"),e.k0s())}function Ye(t,a){if(1&t){const o=e.RV6();e.j41(0,"td",25)(1,"button",27),e.bIt("click",function(){const s=e.eBV(o).$implicit,p=e.XpG();return e.Njj(p.Remove(s.id))}),e.EFF(2,"Remove"),e.k0s()()}}function ze(t,a){1&t&&e.nrm(0,"mat-header-row")}function We(t,a){1&t&&e.nrm(0,"mat-row")}const He=function(){return[5,10,25,100]},qe=[{path:"create-item",component:ee},{path:"manage-item",component:(()=>{class t{constructor(o,i,n,s,p){this._itemService=o,this.excelService=i,this.snackBarService=n,this.dialog=s,this.router=p,this.ItemList=[],this.displayedColumns=["itemCode","itemName","hsncode","serialNumber","category","subCategory","openingStock","Edit","Delete"]}ngOnInit(){this.bindItems()}bindItems(){this._itemService.GetItemList().subscribe(o=>{null!=o&&(this.ItemList=o,this.dataSource=new d.I6(o),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}applyFilter(o){this.dataSource.filter=o.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}Edit(o){this.router.navigate(["/create-item",o])}exportAsXLSX(){this.excelService.exportAsExcelFile(this.ItemList,"Product List")}Remove(o){this._itemService.DeleteItemByID(o).subscribe(i=>{this.bindItems(),this.snackBarService.show("Item Delete successfully!","success")})}static{this.\u0275fac=function(i){return new(i||t)(e.rXU(S.b),e.rXU(De.J),e.rXU(y.v),e.rXU(ve.bZ),e.rXU(E.Ix))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-manage-item"]],viewQuery:function(i,n){if(1&i&&(e.GBs(te.iy,5),e.GBs(U.B4,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.paginator=s.first),e.mGM(s=e.lsd())&&(n.sort=s.first)}},decls:43,vars:5,consts:[[1,"fill-remaining-space"],[2,"padding-top","10px"],[2,"float","left"],["type","text","matInput","",3,"keyup"],[1,"example-container","mat-elevation-z8"],["mat-stroked-button","","color","primary",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","itemCode"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","itemName"],["matColumnDef","hsncode"],["matColumnDef","serialNumber"],["matColumnDef","category"],["matColumnDef","subCategory"],["matColumnDef","openingStock"],["matColumnDef","Edit"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Delete"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-sort-header",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-raised-button","","color","warn","matTooltip","Edit",3,"click"],["mat-raised-button","","color","warn","matTooltip","Delete",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"mat-toolbar")(1,"span",0),e.EFF(2,"View Product List"),e.k0s()(),e.nrm(3,"div",1),e.j41(4,"mat-form-field",2)(5,"mat-label"),e.EFF(6,"Search Item"),e.k0s(),e.j41(7,"input",3),e.bIt("keyup",function(p){return n.applyFilter(p.target.value)}),e.k0s()(),e.j41(8,"div",4)(9,"button",5),e.bIt("click",function(){return n.exportAsXLSX()}),e.EFF(10,"Download Excel"),e.k0s(),e.nrm(11,"div",1),e.j41(12,"table",6),e.qex(13,7),e.DNE(14,Re,2,0,"mat-header-cell",8),e.DNE(15,ye,2,1,"mat-cell",9),e.bVm(),e.qex(16,10),e.DNE(17,Le,2,0,"mat-header-cell",8),e.DNE(18,Me,2,1,"mat-cell",9),e.bVm(),e.qex(19,11),e.DNE(20,Ue,2,0,"mat-header-cell",8),e.DNE(21,$e,2,1,"mat-cell",9),e.bVm(),e.qex(22,12),e.DNE(23,Pe,2,0,"mat-header-cell",8),e.DNE(24,Oe,2,1,"mat-cell",9),e.bVm(),e.qex(25,13),e.DNE(26,je,2,0,"mat-header-cell",8),e.DNE(27,Ge,2,1,"mat-cell",9),e.bVm(),e.qex(28,14),e.DNE(29,Ne,2,0,"mat-header-cell",8),e.DNE(30,Be,2,1,"mat-cell",9),e.bVm(),e.qex(31,15),e.DNE(32,Te,2,0,"mat-header-cell",8),e.DNE(33,Ae,2,1,"mat-cell",9),e.bVm(),e.qex(34,16),e.DNE(35,Ve,2,0,"th",17),e.DNE(36,we,3,0,"td",18),e.bVm(),e.qex(37,19),e.DNE(38,Xe,2,0,"th",17),e.DNE(39,Ye,3,0,"td",18),e.bVm(),e.DNE(40,ze,1,0,"mat-header-row",20),e.DNE(41,We,1,0,"mat-row",21),e.k0s(),e.nrm(42,"mat-paginator",22),e.k0s()),2&i&&(e.R7$(12),e.Y8G("dataSource",n.dataSource),e.R7$(28),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(1),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(1),e.Y8G("pageSizeOptions",e.lJ4(4,He)))},dependencies:[L.$z,Z.fg,_.rl,_.nJ,te.iy,U.B4,U.aE,d.Zl,d.tL,d.ji,d.cC,d.YV,d.iL,d.KS,d.$R,d.YZ,d.NB,M.KQ,xe.oV]})}}return t})()},{path:"create-item/:id",component:ee},{path:"import-bulk-Product",component:(()=>{class t{constructor(o,i,n){this.http=o,this.snackBarService=i,this._service=n,this.selectedFile=null}onFileChange(o){this.selectedFile=o.target.files[0]}downloadFile(){this._service.DownloadTemplate().subscribe(o=>{const i=window.URL.createObjectURL(o),n=document.createElement("a");n.href=i,n.download="ExcelFormat.xlsx",n.click(),URL.revokeObjectURL(i)})}upload(){if(!this.selectedFile)return;const o=new FormData;o.append("file",this.selectedFile),this._service.ImportProduct(o).subscribe({next:i=>this.snackBarService.show("Data Upload successfully!","success"),error:i=>this.snackBarService.show("file upload error!","error")})}static{this.\u0275fac=function(i){return new(i||t)(e.rXU(O.Qq),e.rXU(y.v),e.rXU(S.b))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-import-bulk-product"]],decls:12,vars:1,consts:[["color","primary"],[2,"padding-top","10px"],[1,"example-container"],["type","file",1,"file-input",3,"change"],["mat-stroked-button","","type","button",1,"upload-btn",3,"click"],["mat-stroked-button","","type","button",1,"upload-btn",3,"disabled","click"]],template:function(i,n){1&i&&(e.j41(0,"mat-toolbar",0)(1,"span"),e.EFF(2,"Import Bulk Product"),e.k0s()(),e.nrm(3,"div",1),e.j41(4,"div",2)(5,"h3"),e.EFF(6,"Select File:"),e.k0s(),e.j41(7,"input",3),e.bIt("change",function(p){return n.onFileChange(p)}),e.k0s(),e.j41(8,"button",4),e.bIt("click",function(){return n.downloadFile()}),e.EFF(9," Download Template "),e.k0s(),e.j41(10,"button",5),e.bIt("click",function(){return n.upload()}),e.EFF(11," Upload "),e.k0s()()),2&i&&(e.R7$(10),e.Y8G("disabled",!n.selectedFile))},dependencies:[L.$z,M.KQ],styles:[".example-container[_ngcontent-%COMP%]{max-width:400px;margin:60px auto;padding:30px;border:1px solid #ccc;border-radius:12px;background-color:#f9f9f9;text-align:left;box-shadow:0 4px 8px #0000001a}.example-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;font-weight:700;color:#333}.file-input[_ngcontent-%COMP%]{display:block;padding:8px}.upload-btn[_ngcontent-%COMP%]{margin-top:10px;padding:8px 20px;font-size:16px;border-radius:6px;cursor:pointer}"]})}}return t})()}];let Ke=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[E.iI.forChild(qe),E.iI]})}}return t})();const Je=(0,r.vy)({_items:[],_item:void 0,_Categories:[],_Category:void 0,_SubCategories:[],_SubCategory:void 0,_UploadStatus:void 0,loading:!1,saveSuccess:!1,_error:""},(0,r.on)(b,t=>({...t})),(0,r.on)(j,(t,{category:a})=>({...t,_Categories:a,_error:""})),(0,r.on)(G,(t,{error:a})=>({...t,_error:a})),(0,r.on)(k,t=>({...t})),(0,r.on)(N,(t,{subCategories:a})=>({...t,_SubCategories:a,_error:""})),(0,r.on)(B,(t,{error:a})=>({...t,_error:a})),(0,r.on)(T,t=>({...t})),(0,r.on)(A,(t,{items:a})=>({...t,_items:a})),(0,r.on)(V,(t,{error:a})=>({...t,_error:a})),(0,r.on)(F,t=>({...t})),(0,r.on)(w,(t,{item:a})=>({...t,_item:a,_error:""})),(0,r.on)(X,(t,{error:a})=>({...t,_error:a})),(0,r.on)(D,t=>({...t,loading:!0,saveSuccess:!1,_error:""})),(0,r.on)(Y,(t,{item:a})=>({...t,_items:[...t._items,a],_item:a,loading:!1,saveSuccess:!0,_error:""})),(0,r.on)(z,(t,{error:a})=>({...t,loading:!1,saveSuccess:!1,_error:a})),(0,r.on)(v,t=>({...t,loading:!0,saveSuccess:!1,_error:""})),(0,r.on)(W,(t,{item:a})=>{const o=t._items.filter(i=>i.id!==a.id);return o.push(a),{...t,_items:o,loading:!1,saveSuccess:!0,_error:""}}),(0,r.on)(x,(t,{error:a})=>({...t,loading:!1,saveSuccess:!1,_error:a})),(0,r.on)(H,t=>({...t})),(0,r.on)(q,(t,{id:a})=>({...t,_items:t._items.filter(o=>o.id!=a)})),(0,r.on)(K,(t,{error:a})=>({...t,_error:a})),(0,r.on)(R,t=>({...t})),(0,r.on)(Q,(t,{response:a})=>({...t,_UploadStatus:a})),(0,r.on)(x,(t,{error:a})=>({...t,_error:a})));function Ze(t,a){return Je(t,a)}var u=l(1747),g=l(7673),h=l(5558),I=l(6354),C=l(9437);let et=(()=>{class t{constructor(o,i){this.itemService=o,this.actions$=i,this.loadCategoryEffect$=(0,u.EH)(()=>this.actions$.pipe((0,u.gp)(b),(0,h.n)(n=>this.itemService.GetCategoryList().pipe((0,I.T)(s=>j({category:s})),(0,C.W)(s=>(0,g.of)(G({error:s}))))))),this.loadSubCategoryByIDEffect$=(0,u.EH)(()=>this.actions$.pipe((0,u.gp)(k),(0,h.n)(n=>this.itemService.GetSubCategory(n.categoryId).pipe((0,I.T)(s=>N({subCategories:s})),(0,C.W)(s=>(0,g.of)(B({error:s}))))))),this.loadRequestEffect$=(0,u.EH)(()=>this.actions$.pipe((0,u.gp)(T),(0,h.n)(n=>this.itemService.GetItemList().pipe((0,I.T)(s=>A({items:s})),(0,C.W)(s=>(0,g.of)(V({error:s}))))))),this.loadItemtByIDEffect$=(0,u.EH)(()=>this.actions$.pipe((0,u.gp)(F),(0,h.n)(n=>this.itemService.GetItemByID(n.id).pipe((0,I.T)(s=>w({item:s})),(0,C.W)(s=>(0,g.of)(X({error:s}))))))),this.saveItemEffect$=(0,u.EH)(()=>this.actions$.pipe((0,u.gp)(D),(0,h.n)(n=>this.itemService.saveItem(n.item).pipe((0,I.T)(s=>Y({item:s})),(0,C.W)(s=>(0,g.of)(z({error:s}))))))),this.updateItemEffect$=(0,u.EH)(()=>this.actions$.pipe((0,u.gp)(v),(0,h.n)(n=>this.itemService.UpdateItem(n.item).pipe((0,I.T)(s=>W({item:s})),(0,C.W)(s=>(0,g.of)(x({error:s}))))))),this.deleteItemEffect$=(0,u.EH)(()=>this.actions$.pipe((0,u.gp)(H),(0,h.n)(n=>this.itemService.DeleteItemByID(n.id).pipe((0,I.T)(s=>q({id:n.id})),(0,C.W)(s=>(0,g.of)(K({error:s}))))))),this.uploadImagesEffect$=(0,u.EH)(()=>this.actions$.pipe((0,u.gp)(R),(0,h.n)(n=>this.itemService.UploadItem(n.formData).pipe((0,I.T)(s=>Q({response:s})),(0,C.W)(s=>(0,g.of)(ae({error:s})))))))}static{this.\u0275fac=function(i){return new(i||t)(e.KVO(S.b),e.KVO(u.En))}}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac})}}return t})(),tt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[P.MD,Ke,re.G,m.X1,m.YN,O.q1,r.md.forFeature(J,Ze),u.Vm.forFeature([et])]})}}return t})()}}]);