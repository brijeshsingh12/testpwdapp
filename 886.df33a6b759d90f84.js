"use strict";(self.webpackChunkInventoryAPPN=self.webpackChunkInventoryAPPN||[]).push([[886],{9886:(fe,C,m)=>{m.r(C),m.d(C,{CustomerModule:()=>de});var h=m(177),e=m(7705),s=m(9417),D=m(5416),F=m(2232),p=m(1626),N=m(5312);let _=(()=>{class t{constructor(r){this.http=r,this.rootAPIPath=N.c.baseApiUrl}GetCustomerList(){return this.http.get(`${this.rootAPIPath}/Party/GetPartyList`)}GetCustomerByID(r){return this.http.get(`${this.rootAPIPath}/Party/GetPartyById/${r}`)}RemoveCustomerByID(r){return this.http.delete(`${this.rootAPIPath}/Party/DeletePartyById/${r}`)}saveCustomer(r){const n={headers:new p.Lr({"Content-Type":"application/json"})};return this.http.post(`${this.rootAPIPath}/Party/SaveParty`,r,n)}UpdateCustomer(r,n){const o={headers:new p.Lr({"Content-Type":"application/json"})};return this.http.put(`${this.rootAPIPath}/Party/UpdateParty/${r}`,n,o)}static{this.\u0275fac=function(n){return new(n||t)(e.KVO(p.Qq))}}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var d=m(5743),E=m(8834),g=m(9631),c=m(6467),k=m(5911);function I(t,a){1&t&&(e.j41(0,"span",19),e.EFF(1,"Create Unit"),e.k0s())}function G(t,a){1&t&&(e.j41(0,"span",19),e.EFF(1,"Update Unit"),e.k0s())}function y(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Party Code"),e.k0s())}function j(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Select First Name"),e.k0s())}function T(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Select Last Name"),e.k0s())}function $(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Phone number 1"),e.k0s())}function S(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Phone Number 2"),e.k0s())}function x(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter fax"),e.k0s())}function M(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter Address"),e.k0s())}function R(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter zipCode"),e.k0s())}function B(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter city"),e.k0s())}function P(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter email"),e.k0s())}function U(t,a){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Enter openingBalance"),e.k0s())}let b=(()=>{class t{constructor(r,n,o,l,u){this.formBuilder=r,this.snackBarService=n,this.service=o,this.route=l,this.router=u,this._snackBar=(0,e.WQX)(D.UG),this.updateMode=!1}ngOnInit(){this.createForm(),this.selectedID=Number(this.route.snapshot.paramMap.get("id")),this.bindCustomerForID(this.selectedID)}createForm(){this.formGroup=this.formBuilder.group({id:[0],partyCode:[null,s.k0.required],firstName:[null,s.k0.required],lastName:[null,s.k0.required],telephone:[null,s.k0.required],mobile:[null,s.k0.required],fax:[null],address:[null],zipCode:[null,s.k0.required],city:[null,s.k0.required],email:[null,s.k0.required],website:[null,s.k0.required],creditLimit:[null],pan:[null,s.k0.required],openingBalance:[null],creditDays:[null]})}bindCustomerForID(r){r>0&&this.service.GetCustomerByID(r).subscribe(n=>{this.formGroup.patchValue(n),this.updateMode=!0})}onSubmit(){this.updateMode?this.service.UpdateCustomer(this.selectedID,this.formGroup.value).subscribe(r=>{this.snackBarService.show("Data update successfully!","success")}):this.service.saveCustomer(this.formGroup.value).subscribe(r=>{this.snackBarService.show("Data saved successfully!","success")}),this.formGroup.reset(),this.updateMode=!1,this.router.navigate(["/manage-customer"])}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(s.ok),e.rXU(F.v),e.rXU(_),e.rXU(d.nX),e.rXU(d.Ix))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-create-customer"]],decls:76,vars:15,consts:[["novalidate","",1,"container"],["class","fill-remaining-space",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"example-container"],["matInput","","maxlength","10","formControlName","partyCode"],[4,"ngIf"],[2,"padding-top","10px"],["matInput","","maxlength","10","formControlName","firstName"],["matInput","","maxlength","10","formControlName","lastName"],["matInput","","maxlength","15","formControlName","telephone"],["matInput","","maxlength","15","formControlName","mobile"],["matInput","","maxlength","10","formControlName","fax"],["matInput","","maxlength","200","formControlName","address"],["matInput","","maxlength","10","formControlName","zipCode"],["matInput","","maxlength","10","formControlName","city"],["matInput","","maxlength","30","formControlName","email"],["matInput","","maxlength","10","formControlName","openingBalance"],[1,"example-button-row"],["mat-stroked-button","","type","button",3,"disabled","click"],[1,"fill-remaining-space"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"mat-toolbar"),e.DNE(2,I,2,0,"span",1),e.DNE(3,G,2,0,"span",1),e.k0s(),e.j41(4,"form",2),e.bIt("ngSubmit",function(){return o.onSubmit()}),e.j41(5,"div",3)(6,"mat-form-field")(7,"mat-label"),e.EFF(8,"Unit Code"),e.k0s(),e.nrm(9,"input",4),e.DNE(10,y,2,0,"mat-error",5),e.k0s(),e.nrm(11,"div",6),e.j41(12,"mat-form-field")(13,"mat-label"),e.EFF(14,"Unit Name"),e.k0s(),e.nrm(15,"input",7),e.DNE(16,j,2,0,"mat-error",5),e.k0s(),e.nrm(17,"div",6),e.j41(18,"mat-form-field")(19,"mat-label"),e.EFF(20,"Unit User-Name"),e.k0s(),e.nrm(21,"input",8),e.DNE(22,T,2,0,"mat-error",5),e.k0s(),e.nrm(23,"div",6),e.j41(24,"mat-form-field")(25,"mat-label"),e.EFF(26,"Phone1"),e.k0s(),e.nrm(27,"input",9),e.DNE(28,$,2,0,"mat-error",5),e.k0s(),e.nrm(29,"div",6),e.j41(30,"mat-form-field")(31,"mat-label"),e.EFF(32,"Phone 2"),e.k0s(),e.nrm(33,"input",10),e.DNE(34,S,2,0,"mat-error",5),e.k0s(),e.nrm(35,"div",6),e.j41(36,"mat-form-field")(37,"mat-label"),e.EFF(38,"Fax"),e.k0s(),e.nrm(39,"input",11),e.DNE(40,x,2,0,"mat-error",5),e.k0s(),e.nrm(41,"div",6),e.j41(42,"mat-form-field")(43,"mat-label"),e.EFF(44,"Address"),e.k0s(),e.nrm(45,"input",12),e.DNE(46,M,2,0,"mat-error",5),e.k0s(),e.nrm(47,"div",6),e.j41(48,"mat-form-field")(49,"mat-label"),e.EFF(50,"ZipCode"),e.k0s(),e.nrm(51,"input",13),e.DNE(52,R,2,0,"mat-error",5),e.k0s(),e.nrm(53,"div",6),e.j41(54,"mat-form-field")(55,"mat-label"),e.EFF(56,"City"),e.k0s(),e.nrm(57,"input",14),e.DNE(58,B,2,0,"mat-error",5),e.k0s(),e.nrm(59,"div",6),e.j41(60,"mat-form-field")(61,"mat-label"),e.EFF(62,"Email"),e.k0s(),e.nrm(63,"input",15),e.DNE(64,P,2,0,"mat-error",5),e.k0s(),e.nrm(65,"div",6),e.j41(66,"mat-form-field")(67,"mat-label"),e.EFF(68,"Opening Balance"),e.k0s(),e.nrm(69,"input",16),e.DNE(70,U,2,0,"mat-error",5),e.k0s()(),e.nrm(71,"div",6)(72,"br"),e.j41(73,"div",17)(74,"button",18),e.bIt("click",function(){return o.onSubmit()}),e.EFF(75,"Submit"),e.k0s()()()()),2&n&&(e.R7$(2),e.Y8G("ngIf",!o.updateMode),e.R7$(1),e.Y8G("ngIf",o.updateMode),e.R7$(1),e.Y8G("formGroup",o.formGroup),e.R7$(6),e.Y8G("ngIf",null==o.formGroup.controls.partyCode.errors?null:o.formGroup.controls.partyCode.errors.required),e.R7$(6),e.Y8G("ngIf",null==o.formGroup.controls.firstName.errors?null:o.formGroup.controls.firstName.errors.required),e.R7$(6),e.Y8G("ngIf",null==o.formGroup.controls.lastName.errors?null:o.formGroup.controls.lastName.errors.required),e.R7$(6),e.Y8G("ngIf",null==o.formGroup.controls.telephone.errors?null:o.formGroup.controls.telephone.errors.required),e.R7$(6),e.Y8G("ngIf",null==o.formGroup.controls.mobile.errors?null:o.formGroup.controls.mobile.errors.required),e.R7$(6),e.Y8G("ngIf",null==o.formGroup.controls.fax.errors?null:o.formGroup.controls.fax.errors.required),e.R7$(6),e.Y8G("ngIf",null==o.formGroup.controls.address.errors?null:o.formGroup.controls.address.errors.required),e.R7$(6),e.Y8G("ngIf",null==o.formGroup.controls.zipCode.errors?null:o.formGroup.controls.zipCode.errors.required),e.R7$(6),e.Y8G("ngIf",null==o.formGroup.controls.city.errors?null:o.formGroup.controls.city.errors.required),e.R7$(6),e.Y8G("ngIf",null==o.formGroup.controls.email.errors?null:o.formGroup.controls.email.errors.required),e.R7$(6),e.Y8G("ngIf",null==o.formGroup.controls.openingBalance.errors?null:o.formGroup.controls.openingBalance.errors.required),e.R7$(4),e.Y8G("disabled",!o.formGroup.valid))},dependencies:[h.bT,E.$z,g.fg,c.rl,c.nJ,c.TL,k.KQ,s.qT,s.me,s.BC,s.cb,s.tU,s.j4,s.JD]})}}return t})();var v=m(6695),f=m(2042),i=m(9159),Y=m(1802),V=m(4823);function L(t,a){1&t&&(e.j41(0,"mat-header-cell",24),e.EFF(1,"Id"),e.k0s())}function X(t,a){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const r=a.$implicit;e.R7$(1),e.SpI(" ",r.id," ")}}function q(t,a){1&t&&(e.j41(0,"mat-header-cell",24),e.EFF(1,"Party Code"),e.k0s())}function A(t,a){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const r=a.$implicit;e.R7$(1),e.SpI(" ",r.partyCode," ")}}function w(t,a){1&t&&(e.j41(0,"mat-header-cell",24),e.EFF(1,"First Name"),e.k0s())}function z(t,a){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const r=a.$implicit;e.R7$(1),e.SpI(" ",r.firstName," ")}}function O(t,a){1&t&&(e.j41(0,"mat-header-cell",24),e.EFF(1,"Last Name"),e.k0s())}function Q(t,a){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const r=a.$implicit;e.R7$(1),e.SpI(" ",r.lastName," ")}}function H(t,a){1&t&&(e.j41(0,"mat-header-cell",24),e.EFF(1,"Phone Number"),e.k0s())}function J(t,a){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const r=a.$implicit;e.R7$(1),e.SpI(" ",r.telephone," ")}}function K(t,a){1&t&&(e.j41(0,"mat-header-cell",24),e.EFF(1,"Address"),e.k0s())}function Z(t,a){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const r=a.$implicit;e.R7$(1),e.SpI(" ",r.address," ")}}function W(t,a){1&t&&(e.j41(0,"mat-header-cell",24),e.EFF(1,"Zip Code"),e.k0s())}function ee(t,a){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const r=a.$implicit;e.R7$(1),e.SpI(" ",r.zipCode," ")}}function te(t,a){1&t&&(e.j41(0,"mat-header-cell",24),e.EFF(1,"Opening Balance"),e.k0s())}function re(t,a){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const r=a.$implicit;e.R7$(1),e.SpI(" ",r.openingBalance," ")}}function oe(t,a){1&t&&(e.j41(0,"th",25),e.EFF(1," Edit "),e.k0s())}function ae(t,a){if(1&t){const r=e.RV6();e.j41(0,"td",26)(1,"button",27),e.bIt("click",function(){const l=e.eBV(r).$implicit,u=e.XpG();return e.Njj(u.Edit(l.id))}),e.EFF(2,"Edit"),e.k0s()()}}function ne(t,a){1&t&&(e.j41(0,"th",25),e.EFF(1," Delete "),e.k0s())}function me(t,a){if(1&t){const r=e.RV6();e.j41(0,"td",26)(1,"button",28),e.bIt("click",function(){const l=e.eBV(r).$implicit,u=e.XpG();return e.Njj(u.Remove(l.id))}),e.EFF(2,"Remove"),e.k0s()()}}function se(t,a){1&t&&e.nrm(0,"mat-header-row")}function le(t,a){1&t&&e.nrm(0,"mat-row")}const ie=function(){return[5,10,25,100]},ue=[{path:"create-customer",component:b},{path:"manage-customer",component:(()=>{class t{constructor(r,n,o,l){this._Service=r,this.excelService=n,this.snackBarService=o,this.router=l,this.CustomerList=[],this.displayedColumns=["id","partyCode","firstName","lastName","telephone","address","zipCode","openingBalance","Edit","Delete"]}ngOnInit(){this.bindCustomers()}bindCustomers(){this._Service.GetCustomerList().subscribe(r=>{null!=r&&(this.CustomerList=r,this.dataSource=new i.I6(r),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}applyFilter(r){this.dataSource.filter=r.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}Edit(r){this.router.navigate(["/create-customer",r])}Remove(r){this._Service.RemoveCustomerByID(r).subscribe(n=>{this.bindCustomers(),this.snackBarService.show("Data Delete successfully!","success")})}exportAsXLSX(){this.excelService.exportAsExcelFile(this.CustomerList,"Customer List")}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(_),e.rXU(Y.J),e.rXU(F.v),e.rXU(d.Ix))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-manage-customer"]],viewQuery:function(n,o){if(1&n&&(e.GBs(v.iy,5),e.GBs(f.B4,5)),2&n){let l;e.mGM(l=e.lsd())&&(o.paginator=l.first),e.mGM(l=e.lsd())&&(o.sort=l.first)}},decls:46,vars:5,consts:[[1,"fill-remaining-space"],[2,"padding-top","10px"],[2,"float","left"],["type","text","matInput","",3,"keyup"],[1,"example-container","mat-elevation-z8"],["mat-stroked-button","","color","primary",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","partyCode"],["matColumnDef","firstName"],["matColumnDef","lastName"],["matColumnDef","telephone"],["matColumnDef","address"],["matColumnDef","zipCode"],["matColumnDef","openingBalance"],["matColumnDef","Edit"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Delete"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-sort-header",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-raised-button","","color","warn","matTooltip","Edit",3,"click"],["mat-raised-button","","color","warn","matTooltip","Delete",3,"click"]],template:function(n,o){1&n&&(e.j41(0,"mat-toolbar")(1,"span",0),e.EFF(2,"View Customer List"),e.k0s()(),e.nrm(3,"div",1),e.j41(4,"mat-form-field",2)(5,"mat-label"),e.EFF(6,"Search Customer"),e.k0s(),e.j41(7,"input",3),e.bIt("keyup",function(u){return o.applyFilter(u.target.value)}),e.k0s()(),e.j41(8,"div",4)(9,"button",5),e.bIt("click",function(){return o.exportAsXLSX()}),e.EFF(10,"Download Excel"),e.k0s(),e.nrm(11,"div",1),e.j41(12,"table",6),e.qex(13,7),e.DNE(14,L,2,0,"mat-header-cell",8),e.DNE(15,X,2,1,"mat-cell",9),e.bVm(),e.qex(16,10),e.DNE(17,q,2,0,"mat-header-cell",8),e.DNE(18,A,2,1,"mat-cell",9),e.bVm(),e.qex(19,11),e.DNE(20,w,2,0,"mat-header-cell",8),e.DNE(21,z,2,1,"mat-cell",9),e.bVm(),e.qex(22,12),e.DNE(23,O,2,0,"mat-header-cell",8),e.DNE(24,Q,2,1,"mat-cell",9),e.bVm(),e.qex(25,13),e.DNE(26,H,2,0,"mat-header-cell",8),e.DNE(27,J,2,1,"mat-cell",9),e.bVm(),e.qex(28,14),e.DNE(29,K,2,0,"mat-header-cell",8),e.DNE(30,Z,2,1,"mat-cell",9),e.bVm(),e.qex(31,15),e.DNE(32,W,2,0,"mat-header-cell",8),e.DNE(33,ee,2,1,"mat-cell",9),e.bVm(),e.qex(34,16),e.DNE(35,te,2,0,"mat-header-cell",8),e.DNE(36,re,2,1,"mat-cell",9),e.bVm(),e.qex(37,17),e.DNE(38,oe,2,0,"th",18),e.DNE(39,ae,3,0,"td",19),e.bVm(),e.qex(40,20),e.DNE(41,ne,2,0,"th",18),e.DNE(42,me,3,0,"td",19),e.bVm(),e.DNE(43,se,1,0,"mat-header-row",21),e.DNE(44,le,1,0,"mat-row",22),e.k0s(),e.nrm(45,"mat-paginator",23),e.k0s()),2&n&&(e.R7$(12),e.Y8G("dataSource",o.dataSource),e.R7$(31),e.Y8G("matHeaderRowDef",o.displayedColumns),e.R7$(1),e.Y8G("matRowDefColumns",o.displayedColumns),e.R7$(1),e.Y8G("pageSizeOptions",e.lJ4(4,ie)))},dependencies:[E.$z,g.fg,c.rl,c.nJ,v.iy,f.B4,f.aE,i.Zl,i.tL,i.ji,i.cC,i.YV,i.iL,i.KS,i.$R,i.YZ,i.NB,k.KQ,V.oV]})}}return t})()},{path:"create-customer/:id",component:b}];let ce=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[d.iI.forChild(ue)]})}}return t})();var pe=m(1472);let de=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[h.MD,ce,pe.G,s.X1,s.YN,p.q1]})}}return t})()}}]);